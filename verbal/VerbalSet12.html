<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Verbal – Set 12</title>


<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #fff;
  padding-bottom: 100px;
}

.top-bar {
  padding: 12px 20px;
  border-bottom: 1px solid #ccc;
  font-weight: bold;
}

.container {
  display: flex;
  flex-grow: 1;
}

.left, .right {
  width: 50%;
  padding: 30px;
  box-sizing: border-box;
}

.divider {
  width: 1px;
  background: #ccc;
  height: calc(100vh - 60px);
}

/* ✅ TRUE LEFT ALIGN (no preserved indents) */
.passage {
  font-size: 16px;
  line-height: 1.6;
  text-align: left;
  white-space: normal;
}

#stem {
  text-align: left;
  margin-bottom: 10px;
}

.options {
  text-align: left;
}

.qbox {
  padding: 6px 14px;
  border: 2px solid #000;
  display: inline-block;
  margin-bottom: 15px;
  font-weight: bold;
}

.options label {
  display: block;
  margin: 10px 0;
  padding: 6px;
  cursor: pointer;
  border-radius: 4px;
}

.correct { background: #d4edda; }
.incorrect { background: #f8d7da; }

/* Bottom bar */
.bottom-bar {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  width: 100%;
  background: #2f3e46;
  padding: 10px 20px;
  position: fixed;
  bottom: 0;
  left: 0;
  box-sizing: border-box;
  color: #fff;
  gap: 10px;
}

button {
  padding: 9px 20px;
  border: none;
  cursor: pointer;
  border-radius: 4px;
  color: #fff;
  font-weight: bold;
}

.btn-answer { background: #3a5a98; }
.btn-nav { background: #556d98; }

/* Question panel */
.qpanelCollapsed {
  position: fixed;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  padding: 6px 12px;
  cursor: pointer;
  background: #ff6f61;
  color: #fff;
  border-radius: 4px;
  font-weight: bold;
  display: flex;
  align-items: center;
  z-index: 11;
  font-size: 13px;
}

.qpanelExpanded {
  display: none;
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  padding: 10px;
  border-radius: 6px;
  background: #1a1a1a;
  color: #fff;
  max-width: 800px;
  overflow-y: auto;
  font-size: 14px;
  text-align: center;
  z-index: 10;
  max-height: 300px;
}

.qgrid {
  display: grid;
  grid-template-columns: repeat(8, 1fr);
  gap: 6px;
  justify-content: center;
  margin-top: 5px;
}

.qnum-box {
  padding: 8px;
  text-align: center;
  cursor: pointer;
  border-radius: 4px;
  background: #333;
  color: #fff;
  font-weight: bold;
}

.qnum-box.attempted { background: #ff6f61; }
.qnum-box:hover { opacity: 0.8; }

/* Mobile */
@media (max-width: 768px) {
  body { padding-bottom: 180px; }
  .container { flex-direction: column; }
  .left, .right { width: 100%; padding: 15px; }
  .divider { display: none; }

  .bottom-bar {
    flex-direction: column;
    gap: 8px;
    padding: 10px;
  }

  .btn-answer, .btn-nav {
    width: 100%;
    text-align: center;
  }

  .qpanelCollapsed {
    font-size: 12px;
    padding: 5px 10px;
  }

  .qpanelExpanded {
    max-height: 250px;
    font-size: 13px;
    padding: 8px;
  }

  .qgrid { grid-template-columns: repeat(4, 1fr); gap: 4px; }
  .qnum-box { padding: 6px; font-size: 12px; }

  .passage { font-size: 15px; }
  #stem { font-size: 15px; }
  #options label { font-size: 14px; }

  img { max-width: 100%; height: auto; }
}

@media only screen and (max-width: 600px) {
  .container { flex-direction: column; }
  .left, .right { width: 100%; padding: 20px; }
  .divider { display: none; }

  .bottom-bar {
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
  }

  #qpanelCollapsed { left: 10px; bottom: 80px; transform: none; font-size: 12px; }
  #qpanelExpanded  { left: 10px; bottom: 120px; transform: none; max-width: calc(100% - 20px); font-size: 13px; max-height: 250px; }

  .qgrid { grid-template-columns: repeat(4, 1fr); }
  .qnum-box { padding: 6px; font-size: 12px; }
}
</style>
</head>

<body>

<div class="top-bar">Verbal – Set 12</div>


<div class="container">
  <div class="left">
    <div id="passage" class="passage"></div>
  </div>

  <div class="divider"></div>

  <div class="right">
    <div id="qnumBox" class="qbox"></div>
    <div id="stem"></div>
    <div id="options" class="options"></div>
  </div>
</div>

<div class="bottom-bar">
  <button id="answerBtn" class="btn-answer">Show Correct Answer</button>
  <button id="prevBtn" class="btn-nav">Previous</button>
  <button id="nextBtn" class="btn-nav">Next</button>
  <button id="reviewBtn" class="btn-nav" style="background:#28a745;">Go to Review</button>
</div>

<div id="qpanel">
  <div id="qpanelCollapsed" class="qpanelCollapsed">
    <span id="currentQuestionLabel">Question 0 of 0</span>
    <span id="toggleArrow" style="margin-left:6px;">▲</span>
  </div>
  <div id="qpanelExpanded" class="qpanelExpanded">
    <div id="qgrid" class="qgrid"></div>
  </div>
</div>

<script>
const questions = [
  {
    num: 347,
    passage: `
The following text is from Charlotte Perkins Gilman’s 1910 poem “The Earth’s Entail.”<br><br>
No matter how we cultivate the land,<br>
Taming the forest and the prairie free;<br>
No matter how we irrigate the sand,<br>
Making the desert blossom at command,<br>
We must always leave the borders of the sea;<br>
The immeasureable reaches<br>
Of the windy wave-wet beaches,<br>
The million-mile-long margin of the sea.
`,
    stem: `Which choice best describes the overall structure of the text?`,
    options: {
      A: `The speaker argues against interfering with nature and then gives evidence supporting this interference.`,
      B: `The speaker presents an account of efforts to dominate nature and then cautions that such efforts are only temporary.`,
      C: `The speaker provides examples of an admirable way of approaching nature and then challenges that approach.`,
      D: `The speaker describes attempts to control nature and then offers a reminder that not all nature is controllable.`
    },
    answer: "D",
    img: null,
    stemImg: null
  },

  {
    num: 348,
    passage: `
<b>Text 1</b><br>
Stage lighting theorist Adolphe Appia was perhaps the first to argue that light must be considered alongside all the
various elements of a stage to create a single, unified performance. Researcher Kelly Bremner, however, has noted that
Appia lacked technical expertise in the use of light in the theater. As a result of Appia’s inexperience, Bremner argues,
Appia’s theory of light called for lighting practices that weren’t possible until after the advent of electricity around 1881.<br><br>
<b>Text 2</b><br>
Adolphe Appia was not an ***** in the practice of lighting. Instead, it was precisely his exposure to lighting techniques at the time that contributed to his theory on the importance of light. When working as an apprentice for a lighting
specialist in his youth, Appia observed the use of portable lighting devices that could be operated by hand. This
experience developed his understanding of what was possible in the coordination of elements on the stage.
`,
    stem: `Based on the texts, how would the author of Text 2 most likely respond to the claim about Appia’s level of technical expertise made by Bremner in Text 1?`,
    options: {
      A: `Many lighting technicians dismissed Appia’s ideas about light on the stage.`,
      B: `Appia likely gained a level of technical expertise during his time as an apprentice.`,
      C: `Theater practitioners who worked with Appia greatly admired his work.`,
      D: `Appia was unfamiliar with the use of music and sound in theater.`
    },
    answer: "B",
    img: null,
    stemImg: null
  },

  {
    num: 349,
    passage: `
Close analysis of the painting <i>Girl with a Flute</i>, long attributed to the seventeenth-century Dutch painter Johannes
Vermeer, has revealed subtle deviations from the artist’s signature techniques. These variations suggest that the work
may be that of a student under Vermeer’s tutelage—potentially ______ our understanding of Vermeer as a solitary artist.
`,
    stem: `Which choice completes the text with the most logical and precise word or phrase?`,
    options: {
      A: `negating`,
      B: `prefiguring`,
      C: `entrenching`,
      D: `substantiating`
    },
    answer: "A",
    img: null,
    stemImg: null
  },

  {
    num: 350,
    passage: `
<b>Text 1</b><br>
When the 50-second-long film <i>Arrival of the Train</i>—which depicts what its title says, a train pulling into a station—was first
shown publicly in 1896, spectators, naïve to the new medium of film and seeing a train appearing to come directly at
them, leaped from their seats and fled the room. This moment marks a major cultural shift: a new way of representing
and seeing the world had arrived with that train, and nothing would ever be the same.<br><br>
<b>Text 2</b><br>
The fact that there is no contemporary evidence that the first audience of <i>Arrival of the Train</i> was alarmed has not
stopped the story from becoming canonical, even among film historians. But that phenomenon itself is highly revealing.
Our belief that the coming of film was transformative is so strong that we invented and keep retelling a founding myth
that divides cultural history into a (naïve) “before” and (sophisticated) “after.”
`,
    stem: `Based on the texts, the author of Text 2 would most likely agree with which statement about the description of the first showing of <i>Arrival of the Train</i> in Text 1?`,
    options: {
      A: `It is more motivated by a perception of the significance of the invention of film than by facts.`,
      B: `It expresses a view about the transformative nature of film that film historians tend to regard as naïve.`,
      C: `It is not based on evidence and reflects film historians’ belief that they are more sophisticated than today’s audiences.`,
      D: `It reflects a misconception that is widely believed because it captures early film audiences’ sense that the new medium was alarming.`
    },
    answer: "A",
    img: null,
    stemImg: null
  },

  {
    num: 351,
    passage: `
While researching a topic, a student has taken the following notes:
<br><br>
• A thermal inversion is a phenomenon where a layer of atmosphere is warmer than the layer beneath it.<br>
• In 2022, a team of researchers studied the presence of thermal inversions in twenty-five gas giants.<br>
• Gas giants are planets largely composed of helium and hydrogen.<br>
• The team found that gas giants featuring a thermal inversion were also likely to contain heat-absorbing metals.<br>
• One explanation for this relationship is that these metals may reside in a planet’s upper atmosphere, where their absorbed heat causes an increase in temperature.<br>
`,
    stem: `The student wants to present the study’s findings to an audience already familiar with thermal inversions. Which choice most effectively uses relevant information from the notes to accomplish this goal?`,
    options: {
      A: `Heat-absorbing metals may reside in a planet’s upper atmosphere.`,
      B: `The team studied thermal inversions in twenty-five gas giants, which are largely composed of helium and hydrogen.`,
      C: `Researchers found that gas giants featuring a thermal inversion were likely to contain heat-absorbing metals, which may reside in the planets’ upper atmospheres.`,
      D: `Gas giants were likely to contain heat-absorbing metals when they featured a layer of atmosphere warmer than the layer beneath it, researchers found; this phenomenon is known as a thermal inversion.`
    },
    answer: "C",
    img: null,
    stemImg: null
  },

  {
    num: 352,
    passage: `
Because an achiral molecule is symmetrical, flipping it yields a structurally identical molecule. A flipped chiral molecule,
______ can be compared to a glove that has been turned inside out: it produces a structurally inverted molecule rather
than an identical one.
`,
    stem: `Which choice completes the text with the most logical transition?`,
    options: {
      A: `in other words,`,
      B: `by contrast,`,
      C: `for example,`,
      D: `similarly,`
    },
    answer: "B",
    img: null,
    stemImg: null
  },

  {
    num: 353,
    passage: `
While researching a topic, a student has taken the following notes:
<br><br>
• Wool is a natural—and economically important—fiber that is obtained from animals like sheep.<br>
• Australia is a leading producer of wool.<br>
• The thickness of wool fibers varies across sheep breeds.<br>
• Merino sheep produce fine wool that is used for apparel.<br>
• Rambouillet sheep produce fine wool that is used for apparel.<br>
• Romney sheep produce thick wool that is used for rugs and blankets.<br>
`,
    stem: `The student wants to emphasize how Romney wool differs from Merino and Rambouillet wool. Which choice most effectively uses relevant information from the notes to accomplish this goal?`,
    options: {
      A: `Romney wool is just one of the many kinds of wools, each originating from a different breed of sheep.`,
      B: `Sheep wool varies from breed to breed, so Romney wool will be different than other kinds of wool.`,
      C: `The fine wool produced by Merino and Rambouillet sheep is used for apparel, whereas the thicker wool of Romney sheep is used in rugs and blankets.`,
      D: `Wool is an economically important fiber—especially in Australia—that can be used to make apparel or even rugs and blankets.`
    },
    answer: "C",
    img: null,
    stemImg: null
  },

  {
    num: 354,
    passage: `
Establishing Coordinated Universal Time (UTC) is no easy task. Each month, readings of a single second from atomic
clocks around the world are taken and sent to the International Bureau of Weights and Measures (BIPM) in France. ______
BIPM metrologists perform the meticulous work of assembling these minutely disparate readings into a globally shared
time standard.
`,
    stem: `Which choice completes the text with the most logical transition?`,
    options: {
      A: `There,`,
      B: `In particular,`,
      C: `For example,`,
      D: `Conversely,`
    },
    answer: "A",
    img: null,
    stemImg: null
  },

  {
    num: 355,
    passage: `
A survey listed methods for signing into online accounts. Participants in different countries were asked to choose the
sign-in method they view as most secure. The table presents data for two of the methods. According to the table,
onetime passcodes were viewed as most secure by ______
`,
    stem: `Which choice most effectively uses data from the table to complete the text?`,
    options: {
      A: `33 percent of survey participants in the UK.`,
      B: `22 percent of survey participants in India.`,
      C: `8 percent of survey participants in Japan.`,
      D: `16 percent of survey participants in India.`
    },
    answer: "C",
    img: "355.png",
    stemImg: null
  },

  {
    num: 356,
    passage: `
“Often Rebuked, Yet Always Back Returning” is an 1846 poem by Emily Brontë. The poem conveys the speaker’s
determination to experience the countryside around her: ______
`,
    stem: `Which quotation from the poem most effectively illustrates the claim?`,
    options: {
      A: `“Often rebuked, yet always back returning / To those first feelings that were born with me, / And leaving busy chase of wealth and learning / For idle dreams of things which cannot be.”`,
      B: `“I’ll walk, but not in old heroic traces, / And not in paths of high morality, / And not among the half-distinguished faces, / The clouded forms of long-past history.”`,
      C: `“I’ll walk where my own nature would be leading: / It vexes me to choose another guide: / Where the grey flocks in ferny glens are feeding; / Where the wild wind blows on the mountain side.”`,
      D: `“To-day, I will seek not the shadowy region; / Its unsustaining vastness waxes drear; / And visions rising, legion after legion, / Bring the unreal world too strangely near.”`
    },
    answer: "C",
    img: null,
    stemImg: null
  },

  {
    num: 357,
    passage: `
In their 2022 paper, Christos Dimopoulos et al., having granted that the existence of antigravity—in which antimatter and
matter repel rather than attract each other—lacked affirmative experimental support, rightly argued that such antigravity
was worth considering on theoretical grounds given that evidence against it was similarly lacking. But a 2023 report by
an international team of researchers details the first direct ballistic observations of antihydrogen atoms under gravity
inside a CERN particle accelerator. Corresponding most closely to predictions under gravitational attraction, these
observations were thoroughly inconsistent with antigravity.
`,
    stem: `Which choice best states the main idea of the text?`,
    options: {
      A: `Antihydrogen ballistics observations were conducted at CERN to test specific conclusions about antigravity presented in the 2022 paper by Dimopoulos et al.`,
      B: `Although theoreticians were justified in studying antigravity before the release of the 2023 report, the report’s findings suggest that the rationale for theoretical consideration offered in the 2022 paper by Dimopoulos et al. is no longer applicable.`,
      C: `The theoretical approach represented in the 2022 paper by Dimopoulos et al. assumed that unambiguous proof of antigravity would not be achievable, but the results in the 2023 report undermine that assumption.`,
      D: `Before 2023, researchers’ inordinate focus on theoretical considerations hindered the development of the experimental regimen for direct antihydrogen ballistics observations.`
    },
    answer: "B",
    img: null,
    stemImg: null
  },

  {
    num: 358,
    passage: `
The alpaca was domesticated by Indigenous peoples in the Andes about 7,000 years ago. But which wild species did it
descend from, the vicuña or guanaco? A research team led by Ruiwen Fan may have solved the mystery, concluding that
the alpaca is the domesticated form of the vicuña but that the modern alpaca gets only 64 percent of its genetic material
from its wild ancestor. The rest comes from the domesticated llama. The llama, meanwhile, gets 95.5 percent of its
genetic material from its own wild ancestor, the guanaco, and the rest from the alpaca. The llama and alpaca apparently
interbred widely for only a handful of generations between 400 and 600 years ago. Assuming that the findings of Fan’s
team are valid, it can be inferred that ______
`,
    stem: `Which choice most logically completes the text?`,
    options: {
      A: `modern llama populations have a greater degree of genetic diversity, on average, than modern alpaca populations do.`,
      B: `the domestication process of the alpaca may have involved some introduction of genetic material from the llama.`,
      C: `the period of interbreeding resulted in a greater genetic difference between alpacas and their wild ancestors than between llamas and their wild ancestors.`,
      D: `if they were subjected to genetic testing, modern populations of guanacos and vicuñas would likely show traces of ancient interbreeding as well.`
    },
    answer: "C",
    img: null,
    stemImg: null
  },

  {
    num: 359,
    passage: `
Slam poet Elizabeth Acevedo’s debut novel <i>The Poet X</i>, winner of the 2018 National Book Award for Young People’s
Literature, is composed of ______ protagonist, fifteen-year-old Xiomara Batista.
`,
    stem: `Which choice completes the text so that it conforms to the conventions of Standard English?`,
    options: {
      A: `poems putatively written by the novel’s`,
      B: `poem’s putatively written by the novel’s`,
      C: `poem’s putatively written by the novels’`,
      D: `poems putatively written by the novels’`
    },
    answer: "A",
    img: null,
    stemImg: null
  },

  {
    num: 360,
    passage: `
Anthropologist Lívia Barbosa, of the Universidade Federal Fluminense in Brazil, ______ food and sociability in
contemporary Brazil—specifically, how foods such as cabidela (a rice and rabbit dish) and churrasco (a barbeque dish)
function as central mechanisms in building social relationships, values, and identities.
`,
    stem: `Which choice completes the text so that it conforms to the conventions of Standard English?`,
    options: {
      A: `studies`,
      B: `are studying`,
      C: `have studied`,
      D: `study`
    },
    answer: "A",
    img: null,
    stemImg: null
  },

  {
    num: 361,
    passage: `
Ten of William Shakespeare’s plays are classified as histories. Although each one of these plays, which include <i>Henry V</i>
and <i>Richard III</i>, ______ on a single historical figure (specifically, an English king), some, such as <i>Henry VI Part One</i> and
<i>Henry VI Part Two</i>, feature different episodes from the same monarch’s life.
`,
    stem: `Which choice completes the text so that it conforms to the conventions of Standard English?`,
    options: {
      A: `focuses`,
      B: `focus`,
      C: `are focused`,
      D: `were focused`
    },
    answer: "A",
    img: null,
    stemImg: null
  },

  {
    num: 362,
    passage: `
Using satellite remote sensing, Dr. Catherine Nakalembe, director of NASA’s Harvest Africa initiative, gathers important
data on crop health. Nakalembe doesn’t just compile the ______ she also shares her findings with African farmers,
enabling them to make data-driven decisions about managing critical food crops.
`,
    stem: `Which choice completes the text so that it conforms to the conventions of Standard English?`,
    options: {
      A: `information, though;`,
      B: `information, though,`,
      C: `information; though`,
      D: `information though,`
    },
    answer: "A",
    img: null,
    stemImg: null
  }
];

let currentQ = 0;
let answerShown = false;
let attempted = Array(questions.length).fill(false);
let userAnswers = Array(questions.length).fill(null);

/* ---------- TEXT NORMALIZERS ---------- */

/* For short single-line fields like stem: trim + kill extra whitespace. */
function normalizeInline(s) {
  return (s ?? "")
    .replace(/\r\n/g, "\n")
    .replace(/\n[ \t]+/g, "\n")
    .trim()
    .replace(/\s+/g, " ");
}

/* For passages: remove indentation; keep paragraph breaks only.
   - Collapses single newlines into spaces (fixes unwanted line breaks)
   - Preserves real paragraph breaks (2+ newlines) as <br><br>
   - Leaves any existing <br> tags in your passage strings untouched
*/
function normalizePassageHTML(s) {
  let t = (s ?? "")
    .replace(/\r\n/g, "\n")
    .replace(/\n[ \t]+/g, "\n")
    .trim();

  // Mark paragraph breaks (2+ newlines)
  t = t.replace(/\n{2,}/g, "<<<P>>>");

  // Collapse remaining single newlines into spaces
  t = t.replace(/\n/g, " ");

  // Clean spacing
  t = t.replace(/[ \t]{2,}/g, " ").trim();

  // Restore paragraphs
  t = t.replace(/<<<P>>>/g, "<br><br>");

  return t;
}

function setButtonsEnabled(enabled){
  ["answerBtn","prevBtn","nextBtn","reviewBtn"].forEach(id=>{
    const b=document.getElementById(id);
    b.disabled=!enabled;
    b.style.opacity=enabled?'1':'0.6';
    b.style.cursor=enabled?'pointer':'not-allowed';
  });
}

function loadQuestion() {
  if (questions.length === 0) {
    document.getElementById('passage').innerHTML = 'No questions added yet.';
    document.getElementById('qnumBox').innerText = '—';
    document.getElementById('stem').innerText = '';
    document.getElementById('options').innerHTML = '';
    document.getElementById('answerBtn').innerText = 'Show Correct Answer';
    answerShown = false;
    updateQpanel();
    setButtonsEnabled(false);
    return;
  }

  setButtonsEnabled(true);

  const q = questions[currentQ];

  const passageHTML = normalizePassageHTML(q.passage);
  document.getElementById('passage').innerHTML =
    (q.img ? `<img src="${q.img}" alt="Image" style="max-width:100%; margin-bottom:10px;"><br>` : '') + passageHTML;

  document.getElementById('qnumBox').innerText = `Q${q.num}`;
 document.getElementById('stem').innerHTML = normalizeInline(q.stem || "");


  const optionsDiv = document.getElementById('options');
  optionsDiv.innerHTML = '';

  for (const [key, val] of Object.entries(q.options)) {
    const lbl = document.createElement('label');
    lbl.innerHTML = `<input type="radio" name="option" value="${key}"> ${key}. ${val}`;
    const input = lbl.querySelector('input');

    if (userAnswers[currentQ] === key) input.checked = true;

    input.addEventListener('change', () => {
      userAnswers[currentQ] = key;
      attempted[currentQ] = true;
      updateQpanel();
    });

    optionsDiv.appendChild(lbl);
  }

  answerShown = false;
  document.getElementById('answerBtn').innerText = 'Show Correct Answer';
  updateQpanel();
}

function toggleAnswer() {
  const q = questions[currentQ];
  const optionsDiv = document.getElementById('options');

  if (!answerShown){
    for (const input of optionsDiv.querySelectorAll('input')){
      input.parentNode.classList.remove('correct','incorrect');
      if (input.value===q.answer) input.parentNode.classList.add('correct');
      else input.parentNode.classList.add('incorrect');
    }
    document.getElementById('answerBtn').innerText = 'Hide Correct Answer';
    answerShown = true;
  } else {
    for (const input of optionsDiv.querySelectorAll('input')){
      input.parentNode.classList.remove('correct','incorrect');
    }
    document.getElementById('answerBtn').innerText = 'Show Correct Answer';
    answerShown = false;
  }
}

document.getElementById('answerBtn').addEventListener('click', toggleAnswer);
document.getElementById('prevBtn').addEventListener('click', () => { if(currentQ>0) currentQ--; loadQuestion(); });
document.getElementById('nextBtn').addEventListener('click', () => { if(currentQ<questions.length-1) currentQ++; loadQuestion(); });

const collapsed = document.getElementById('qpanelCollapsed');
const expanded = document.getElementById('qpanelExpanded');
collapsed.addEventListener('click', () => { expanded.style.display = expanded.style.display==='block'?'none':'block'; });

function updateQpanel(){
  const grid = document.getElementById('qgrid');
  grid.innerHTML = '';

  questions.forEach((q,i)=>{
    const b = document.createElement('div');
    b.innerText = q.num;
    b.className='qnum-box';
    b.classList.toggle('attempted', attempted[i]);
    b.addEventListener('click',()=>{ currentQ=i; loadQuestion(); expanded.style.display='none'; });
    grid.appendChild(b);
  });

  document.getElementById('currentQuestionLabel').innerText =
    `Question ${questions[currentQ].num} of ${questions.length}`;
}

loadQuestion();

/* Review page */
document.getElementById('reviewBtn').addEventListener('click', () => {
  const mainContent = document.querySelector('.container');
  const bottomBar = document.querySelector('.bottom-bar');
  const qpanel = document.getElementById('qpanel');
  mainContent.style.display = 'none';
  bottomBar.style.display = 'none';
  qpanel.style.display = 'none';

  let reviewDiv = document.getElementById('reviewPage');
  if (!reviewDiv) {
    reviewDiv = document.createElement('div');
    reviewDiv.id = 'reviewPage';
    reviewDiv.style.padding = '20px';
    reviewDiv.style.maxWidth = '600px';
    reviewDiv.style.margin = '0 auto';
    document.body.appendChild(reviewDiv);
  }
  reviewDiv.style.display = 'block';
  reviewDiv.innerHTML = '<h2>Review Questions</h2>';

  const correctCount = userAnswers.filter((ans, idx) => ans === questions[idx].answer).length;
  const totalCount = questions.length;

  const scoreDiv = document.createElement('div');
  scoreDiv.style.fontWeight = 'bold';
  scoreDiv.style.marginBottom = '15px';
  scoreDiv.innerText = `Score: ${correctCount} / ${totalCount}`;
  reviewDiv.appendChild(scoreDiv);

  const ul = document.createElement('ul');
  ul.style.listStyle = 'none';
  ul.style.padding = '0';
  ul.style.display = 'flex';
  ul.style.flexWrap = 'wrap';
  ul.style.gap = '8px';

  questions.forEach((q,i)=>{
    const li = document.createElement('li');
    li.innerText = q.num;
    li.style.padding='8px 12px';
    li.style.border='1px solid #333';
    li.style.borderRadius='4px';
    li.style.cursor='pointer';

    if (userAnswers[i] === null) li.style.background = '#555';
    else if (userAnswers[i] === q.answer) li.style.background = '#28a745';
    else li.style.background = '#dc3545';
    li.style.color='#fff';

    li.addEventListener('click', () => {
      currentQ = i;
      loadQuestion();
      reviewDiv.style.display = 'none';
      mainContent.style.display = 'flex';
      bottomBar.style.display = 'flex';
      qpanel.style.display = 'block';
    });

    ul.appendChild(li);
  });

  reviewDiv.appendChild(ul);

  let backBtn = document.getElementById('backToTestBtn');
  if (!backBtn) {
    backBtn = document.createElement('button');
    backBtn.id = 'backToTestBtn';
    backBtn.innerText = 'Back to Test';
    backBtn.style.background='#556d98';
    backBtn.style.color='#fff';
    backBtn.style.border='none';
    backBtn.style.padding='10px 20px';
    backBtn.style.marginTop='20px';
    backBtn.style.borderRadius='4px';
    backBtn.style.cursor='pointer';
    reviewDiv.appendChild(backBtn);
  }
  backBtn.onclick = () => {
    reviewDiv.style.display = 'none';
    mainContent.style.display = 'flex';
    bottomBar.style.display = 'flex';
    qpanel.style.display = 'block';
  };
});
</script>

</body>
</html>
