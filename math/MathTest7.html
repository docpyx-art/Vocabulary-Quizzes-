<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Math – Test 7</title>

<!-- MathJax (Computer Modern-like) -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['\\(','\\)'], ['$', '$']],
      displayMath: [['\\[','\\]']]
    },
    options: {
      skipHtmlTags: ['script','noscript','style','textarea','pre','code']
    },
    chtml: {
      scale: 1.25   /* ← THIS line controls math size */
    }
  };
</script>
<script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<style>
body { margin:0; font-family:Arial,sans-serif; background:#fff; }

.top-bar { padding:12px 20px; border-bottom:1px solid #ccc; font-weight:bold; }

/* Container: single column layout for Math test */
.container { 
  display:flex; 
  flex-direction:column; 
  flex-grow:1; 
  padding:20px; 
  padding-bottom:150px; /* prevents bottom bar hiding options */
}

.passage { font-size:16px; line-height:1.6; white-space:pre-wrap; margin-bottom:20px; }
#stem { margin-bottom:6px; }

/* --- FIXED QBOX SIZE WITHOUT CHANGING OTHER STYLES --- */
.qbox {
  display:inline-block;
  align-self:flex-start;
  padding:4px 8px;
  width:auto;
  min-width:0;
  text-align:center;
  border:2px solid #000;
  border-radius:4px;
  font-weight:bold;
  font-size:16px;
  margin-bottom:10px;
}

.options label { display:block; margin:10px 0; padding:6px; cursor:pointer; border-radius:4px; }
.correct { background:#d4edda; }
.incorrect { background:#f8d7da; }

/* SPR input */
.spr-wrap { margin-top:10px; }
.spr-input {
  width:220px;
  max-width:100%;
  padding:8px 10px;
  font-size:16px;
  border:1px solid #333;
  border-radius:4px;
}
.spr-hint { margin-top:8px; font-size:14px; }

/* Bottom bar fixed at bottom */
.bottom-bar { 
  display:flex; 
  justify-content:flex-end; 
  align-items:center; 
  width:100%; 
  background:#2f3e46; 
  padding:10px 20px; 
  position:fixed; 
  bottom:0; left:0; 
  box-sizing:border-box; 
  color:#fff; 
  gap:10px; 
  z-index:20;
}

button { padding:9px 20px; border:none; cursor:pointer; border-radius:4px; color:#fff; font-weight:bold; }
.btn-answer { background:#3a5a98; }
.btn-nav { background:#556d98; }

.qpanelCollapsed { 
  position:fixed; 
  bottom:0; 
  left:50%; 
  transform:translateX(-50%); 
  padding:6px 12px; 
  cursor:pointer; 
  background:#ff6f61; 
  color:#fff; 
  border-radius:4px; 
  font-weight:bold; 
  display:flex; 
  align-items:center; 
  z-index:21; 
  font-size:13px;
}

.qpanelExpanded { 
  display:none; 
  position:fixed; 
  bottom:30px; 
  left:50%; 
  transform:translateX(-50%); 
  padding:10px; 
  border-radius:6px; 
  background:#1a1a1a; 
  color:#fff; 
  max-width:800px; 
  overflow-y:auto; 
  font-size:14px; 
  text-align:center; 
  z-index:20; 
  max-height:300px;
}

.qgrid { display:grid; grid-template-columns:repeat(8,1fr); gap:6px; justify-content:center; margin-top:5px; }
.qnum-box { padding:8px; text-align:center; cursor:pointer; border-radius:4px; background:#333; color:#fff; font-weight:bold; }
.qnum-box.attempted { background:#ff6f61; color:#fff; }
.qnum-box:hover { opacity:0.8; }

/* MOBILE FRIENDLY */
@media (max-width: 768px) {
  .passage { font-size:15px; margin-bottom:15px; }
  #stem { font-size:15px; margin-bottom:10px; }
  #options label { font-size:14px; }
  .bottom-bar { flex-direction:column; gap:8px; }
  .btn-answer, .btn-nav { width:100%; text-align:center; }
  .qpanelCollapsed { font-size:12px; padding:5px 10px; }
  .qpanelExpanded { max-height:250px; font-size:13px; padding:8px; }
  .qgrid { grid-template-columns:repeat(4,1fr); gap:4px; }
  .qnum-box { padding:6px; font-size:12px; }
  img { max-width:100%; height:auto; }
  .container { padding-bottom:190px; }
}

@media only screen and (max-width: 600px) {
  .bottom-bar { flex-direction:column; align-items:stretch; gap:8px; }
  #qpanelCollapsed { left:10px; bottom:80px; transform:none; font-size:12px; }
  #qpanelExpanded { left:10px; bottom:120px; transform:none; max-width:calc(100% - 20px); font-size:13px; max-height:250px; }
}
</style>
</head>

<body>

<!-- Calculator button -->
<button id="openCalculator" 
        style="position:absolute; top:10px; right:10px;
               padding:6px 12px; font-size:14px; border-radius:4px;
               border:1px solid #0077cc; background:#fff; color:#0077cc;
               cursor:pointer; z-index:30;">
  Calculator
</button>

<div class="top-bar">Math – Test 7</div>

<div class="container">
  <div id="qnumBox" class="qbox"></div>
  <div id="passage" class="passage"></div>
  <div id="stem"></div>
  <div id="options" class="options"></div>
</div>

<div class="bottom-bar">
  <button id="answerBtn" class="btn-answer">Show Correct Answer</button>
  <button id="prevBtn" class="btn-nav">Previous</button>
  <button id="nextBtn" class="btn-nav">Next</button>
  <button id="reviewBtn" class="btn-nav" style="background:#28a745;">Go to Review</button>
</div>

<div id="qpanel">
  <div id="qpanelCollapsed" class="qpanelCollapsed">
    <span id="currentQuestionLabel">Question</span>
    <span id="toggleArrow" style="margin-left:6px;">▲</span>
  </div>
  <div id="qpanelExpanded" class="qpanelExpanded">
    <div id="qgrid" class="qgrid"></div>
  </div>
</div>

<script>
document.getElementById('openCalculator').addEventListener('click', function() {
  window.open(
    'https://www.desmos.com/testing/collegeboard/graphing',
    'CalculatorWindow',
    'width=900,height=600,top=100,left=100,resizable=yes,scrollbars=yes'
  );
});

/* ✅ Important: typeset NEWLY inserted LaTeX every time */
function typesetMath() {
  if (window.MathJax && MathJax.typesetPromise) {
    const nodes = [document.getElementById('passage'), document.getElementById('options')];
    MathJax.typesetClear(nodes);
    MathJax.typesetPromise(nodes);
  }
}

// ==== QUESTIONS (LaTeX inline with \( \)) ====
const questions = [
  {
    num: 203,
    passage: `
      <div style="font-size:18px; font-weight:bold; margin-bottom:6px;">
        \\(D = 5{,}640(1.9)^t\\)
      </div>
      <div>
        The equation above estimates the global data traffic \\(D\\), in terabytes,
        for the year that is \\(t\\) years after 2010.
      </div>
    `,
    stem: "What is the best interpretation of the number 5,640 in this context?",
    options: {
      A: "The estimated amount of increase of data traffic, in terabytes, each year",
      B: "The estimated percent increase in the data traffic, in terabytes, each year",
      C: "The estimated data traffic, in terabytes, for the year that is t years after 2010",
      D: "The estimated data traffic, in terabytes, in 2010"
    },
    answer: "D",
    img: null
  },

  {
    num: 204,
    passage: `Which of the following could be the equation of the graph shown in the \\(xy\\)-plane?`,
    stem: "",
    options: {
      A: `\\(y=-\\frac{1}{10}x(x-4)(x+5)\\)`,
      B: `\\(y=-\\frac{1}{10}x(x-4)(x+5)^2\\)`,
      C: `\\(y=-\\frac{1}{10}x(x-5)(x+4)\\)`,
      D: `\\(y=-\\frac{1}{10}x^2(x+4)\\)`
    },
    answer: "B",
    img: "204.png"
  },

  {
    num: 205,
    passage: `
      In North America, the standard width of a parking space is at least 7.5 feet and no more than 9.0 feet.
      A restaurant owner wants to determine the number of parking spaces, \\(n\\), that could be placed perpendicular
      to a curb that is 135 feet long.
    `,
    stem: "Which of the following describes all possible values of n?",
    options: {
      A: `\\(18\\le n\\le 135\\)`,
      B: `\\(7.5\\le n\\le 9\\)`,
      C: `\\(15\\le n\\le 135\\)`,
      D: `\\(15\\le n\\le 18\\)`
    },
    answer: "D",
    img: null
  },

  {
    num: 206,
    passage: `
      <div style="font-size:18px; font-weight:bold; margin-bottom:6px;">
        \\(3(2x-6)-11=4(x-3)+6\\)
      </div>
    `,
    stem: "If x is the solution to the equation above, what is the value of x − 3?",
    options: {
      A: `\\(\\frac{23}{2}\\)`,
      B: `\\(\\frac{17}{2}\\)`,
      C: `\\(\\frac{15}{2}\\)`,
      D: `\\(-\\frac{15}{2}\\)`
    },
    answer: "B",
    img: null
  },

  {
    num: 207,
    passage: `
      A manufacturing company produces two cylindrical containers that each have a height of 50 centimeters.
      The radius of container A is 16 centimeters, and the radius of container B is 25\\% longer than the radius of container A.
    `,
    stem: "What is the volume, in cubic centimeters, of container B?",
    options: {
      A: `\\(16{,}000\\pi\\)`,
      B: `\\(20{,}000\\pi\\)`,
      C: `\\(25{,}000\\pi\\)`,
      D: `\\(31{,}250\\pi\\)`
    },
    answer: "B",
    img: null
  },

  {
    num: 208,
    passage: `
      In \\(\\triangle ABC\\), \\(\\angle B\\) is a right angle and the length of \\(\\overline{BC}\\) is 136 millimeters.
      If \\(\\cos A = \\frac{3}{5}\\), what is the length, in millimeters, of \\(\\overline{AB}\\)?
    `,
    stem: "",
    options: {
      A: `\\(34\\)`,
      B: `\\(102\\)`,
      C: `\\(136\\)`,
      D: `\\(170\\)`
    },
    answer: "B",
    img: null
  },

  {
    num: 209,
    passage: `<div style="font-weight:bold;">\\(15,14,18,17,x\\)</div>`,
    stem: "The mean and the median of the five numbers above are equal. Which is NOT a possible value of x?",
    options: {
      A: `\\(6\\)`,
      B: `\\(11\\)`,
      C: `\\(16\\)`,
      D: `\\(21\\)`
    },
    answer: "A",
    img: null
  },

  {
    num: 210,
    passage: `
      A park ranger asked a random sample of visitors how far they hiked during their visit.
      Based on the responses, the estimated mean was found to be 4.5 miles, with an associated margin of error of 0.5 miles.
    `,
    stem: "Which of the following is the best conclusion from these data?",
    options: {
      A: "It is likely that all visitors hiked between 4 and 5 miles.",
      B: "It is likely that most visitors hiked exactly 4.5 miles.",
      C: "It is not possible that any visitor hiked less than 3 miles.",
      D: "It is plausible that the mean distance hiked for all visitors is between 4 and 5 miles."
    },
    answer: "D",
    img: null
  },

{
  num: 211,
  passage: `
    Alan drives an average of 100 miles each week. His car travels an average of 25 miles per gallon of gasoline.
    Gasoline costs \\$4 per gallon. Alan wants to reduce his weekly spending on gasoline by \\$5.
  `,
  stem: "Which equation can Alan use to determine how many fewer miles, m, he should drive each week?",
  options: {
    A: `\\(\\frac{25}{4}m = 95\\)`,
    B: `\\(\\frac{25}{4}m = 5\\)`,
    C: `\\(\\frac{4}{25}m = 95\\)`,
    D: `\\(\\frac{4}{25}m = 5\\)`
  },
  answer: "D",
  img: null
},

{
  num: 212,
  passage: `
    A local transit company sells a monthly pass for \\$95 that allows an unlimited number of trips of any length.
    Tickets for individual trips cost \\$1.50, \\$2.50, or \\$3.50, depending on the length of the trip.
  `,
  stem: "What is the minimum number of trips per month for which a monthly pass could cost less than purchasing individual tickets for trips?",
  options: null,
  answer: "28",
  img: null
},
 
{
  num: 213,
  passage: `
    Rectangle \\(ABCD\\) is similar to rectangle \\(EFGH\\).
    The area of rectangle \\(ABCD\\) is 648 square inches, and the area of rectangle \\(EFGH\\) is 72 square inches.
    The length of the longest side of rectangle \\(ABCD\\) is 36 inches.
  `,
  stem: "What is the length, in inches, of the longest side of rectangle \\(EFGH\\)?",
  options: {
    A: `\\(4\\)`,
    B: `\\(9\\)`,
    C: `\\(12\\)`,
    D: `\\(36\\)`
  },
  answer: "C",
  img: null
},




 {
    num: 214,
    passage: `
      A graphic designer is creating a logo for a company. The logo is shown in the figure above.
      The logo is in the shape of a trapezoid and consists of three congruent equilateral triangles.
      If the perimeter of the logo is 20 centimeters, what is the combined area of the shaded regions?
    `,
    stem: "",
    options: {
      A: `\\(2\\sqrt{3}\\)`,
      B: `\\(4\\sqrt{3}\\)`,
      C: `\\(8\\sqrt{3}\\)`,
      D: `\\(16\\)`
    },
    answer: "C",
    img: "214.png"
  },


{
  num: 215,
  passage: `
    Jeremy deposited \\(x\\) dollars in his investment account on January 1, 2001.
    The amount of money in the account doubled each year until Jeremy had \\(480\\) dollars
    in his investment account on January 1, 2005.
    <br><br>
    What is the value of \\(x\\)?
  `,
  stem: "",
  options: null,
  answer: "30",
  img: null
},



{
  num: 216,
  passage: `
    <table style="border-collapse:collapse; margin-bottom:12px;">
      <tr>
        <th style="border:1px solid #000; padding:6px 12px;">Value</th>
        <th style="border:1px solid #000; padding:6px 12px;">Frequency</th>
      </tr>
      <tr>
        <td style="border:1px solid #000; padding:6px 12px; text-align:center;">1</td>
        <td style="border:1px solid #000; padding:6px 12px; text-align:center;">\\(a\\)</td>
      </tr>
      <tr>
        <td style="border:1px solid #000; padding:6px 12px; text-align:center;">2</td>
        <td style="border:1px solid #000; padding:6px 12px; text-align:center;">\\(2a\\)</td>
      </tr>
      <tr>
        <td style="border:1px solid #000; padding:6px 12px; text-align:center;">3</td>
        <td style="border:1px solid #000; padding:6px 12px; text-align:center;">\\(3a\\)</td>
      </tr>
      <tr>
        <td style="border:1px solid #000; padding:6px 12px; text-align:center;">4</td>
        <td style="border:1px solid #000; padding:6px 12px; text-align:center;">\\(2a\\)</td>
      </tr>
      <tr>
        <td style="border:1px solid #000; padding:6px 12px; text-align:center;">5</td>
        <td style="border:1px solid #000; padding:6px 12px; text-align:center;">\\(a\\)</td>
      </tr>
    </table>

    The frequency distribution above summarizes a set of data, where \\(a\\) is a positive integer.
  `,
  stem: "How much greater is the mean of the set of data than the median?",
  options: {
    A: `\\(0\\)`,
    B: `\\(1\\)`,
    C: `\\(2\\)`,
    D: `\\(3\\)`
  },
  answer: "A",
  img: null
},





  /* Student-produced (options: null) */
  {
    num: 217,
    passage: `
      During a 5-second time interval, the average acceleration \\(a\\) is defined by the equation
      <div style="font-size:18px; font-weight:bold; margin:8px 0;">
        \\(a=\\frac{v_f-12}{5}\\)
      </div>
      If the equation is rewritten in the form \\(v_f = xa + y\\), what is the value of \\(x\\)?
    `,
    stem: "",
    options: null,
    answer: "5",
    img: null
  },

{
  num: 218,
  passage: `
    <div style="font-size:18px; font-weight:bold; margin-bottom:8px;">
      \\(f(x) = -500x^2 + 25{,}000x\\)
    </div>

    The revenue, in dollars, that a company receives from sales of a product is
    given by the function \\(f\\) above, where \\(x\\) is the unit price, in dollars, of the product.
    The graph of \\(f\\) in the \\(xy\\)-plane intersects the \\(x\\)-axis at \\(0\\) and \\(a\\).
  `,
  stem: "What does a represent?",
  options: {
    A: "The revenue, in dollars, when the unit price of the product is $0",
    B: "The unit price, in dollars, of the product that will result in maximum revenue",
    C: "The unit price, in dollars, of the product that will result in a revenue of $0",
    D: "The maximum revenue, in dollars, that the company can make"
  },
  answer: "C",
  img: null
},


];

// ==== EXISTING LOGIC ====
let currentQ = 0;
let answerShown = false;
let attempted = Array(questions.length).fill(false);
let userAnswers = Array(questions.length).fill(null);

function loadQuestion() {
  const q = questions[currentQ];

  // passage + optional image
  if (q.img) {
    document.getElementById('passage').innerHTML = `
      <img src="${q.img}" alt="Graph"
           style="max-width:400px; width:100%; height:auto; display:block; margin-bottom:12px;">
      ${q.passage}
    `;
  } else {
    document.getElementById('passage').innerHTML = q.passage;
  }

  document.getElementById('qnumBox').innerText = `Q${q.num}`;
  document.getElementById('stem').innerText = q.stem || "";

  const optionsDiv = document.getElementById('options');
  optionsDiv.innerHTML = '';

  // MCQ
  if (q.options) {
    for (const [key, val] of Object.entries(q.options)) {
      const lbl = document.createElement('label');
      lbl.innerHTML = `<input type="radio" name="option" value="${key}"> ${key}. ${val}`;
      const input = lbl.querySelector('input');

      if (userAnswers[currentQ] === key) input.checked = true;

      input.addEventListener('change', () => {
        userAnswers[currentQ] = key;
        attempted[currentQ] = true;
        updateQpanel();
      });

      optionsDiv.appendChild(lbl);
    }
  } else {
    // SPR (student-produced response)
   const wrap = document.createElement('div');
wrap.className = 'spr-wrap';
wrap.innerHTML = `
  <input id="sprInput" class="spr-input" type="text" inputmode="decimal" />
  <div id="sprAnswerReveal" class="spr-hint"></div>
`;
optionsDiv.appendChild(wrap);

    const sprInput = document.getElementById('sprInput');
    if (userAnswers[currentQ] !== null) sprInput.value = userAnswers[currentQ];

    sprInput.addEventListener('input', () => {
      userAnswers[currentQ] = sprInput.value.trim();
      attempted[currentQ] = userAnswers[currentQ].length > 0;
      updateQpanel();
    });
  }

  answerShown = false;
  document.getElementById('answerBtn').innerText = 'Show Correct Answer';
  updateQpanel();

  // ✅ re-typeset LaTeX after injecting HTML
  typesetMath();
}

function toggleAnswer() {
  const q = questions[currentQ];
  const optionsDiv = document.getElementById('options');

  if (!answerShown) {
    // MCQ highlighting
    if (q.options) {
      for (const input of optionsDiv.querySelectorAll('input[type="radio"]')) {
        input.parentNode.classList.remove('correct','incorrect');
        if (input.value === q.answer) input.parentNode.classList.add('correct');
        else input.parentNode.classList.add('incorrect');
      }
    } else {
      // SPR reveal
      const reveal = document.getElementById('sprAnswerReveal');
      if (reveal) {
        reveal.innerHTML = `<strong>Correct Answer:</strong> ${q.answer}`;
      }
    }

    document.getElementById('answerBtn').innerText = 'Hide Correct Answer';
    answerShown = true;
  } else {
    // remove highlights / hide reveal
    if (q.options) {
      for (const input of optionsDiv.querySelectorAll('input[type="radio"]')) {
        input.parentNode.classList.remove('correct','incorrect');
      }
    } else {
      const reveal = document.getElementById('sprAnswerReveal');
      if (reveal) reveal.innerHTML = '';
    }

    document.getElementById('answerBtn').innerText = 'Show Correct Answer';
    answerShown = false;
  }
}

document.getElementById('answerBtn').addEventListener('click', toggleAnswer);
document.getElementById('prevBtn').addEventListener('click', () => { if (currentQ > 0) currentQ--; loadQuestion(); });
document.getElementById('nextBtn').addEventListener('click', () => { if (currentQ < questions.length - 1) currentQ++; loadQuestion(); });

const collapsed = document.getElementById('qpanelCollapsed');
const expanded = document.getElementById('qpanelExpanded');
collapsed.addEventListener('click', () => {
  expanded.style.display = (expanded.style.display === 'block') ? 'none' : 'block';
});

function updateQpanel() {
  const grid = document.getElementById('qgrid');
  grid.innerHTML = '';
  questions.forEach((q, i) => {
    const b = document.createElement('div');
    b.innerText = q.num;
    b.className = 'qnum-box';
    b.classList.toggle('attempted', attempted[i]);
    b.addEventListener('click', () => { currentQ = i; loadQuestion(); expanded.style.display = 'none'; });
    grid.appendChild(b);
  });
  document.getElementById('currentQuestionLabel').innerText = `Question ${questions[currentQ].num} of ${questions.length}`;
}

loadQuestion();

// ==== REVIEW PAGE LOGIC ====
document.getElementById('reviewBtn').addEventListener('click', () => {
  const mainContent = document.querySelector('.container');
  const bottomBar = document.querySelector('.bottom-bar');
  const qpanel = document.getElementById('qpanel');

  mainContent.style.display = 'none';
  bottomBar.style.display = 'none';
  qpanel.style.display = 'none';

  let reviewDiv = document.getElementById('reviewPage');
  if (!reviewDiv) {
    reviewDiv = document.createElement('div');
    reviewDiv.id = 'reviewPage';
    reviewDiv.style.padding = '20px';
    reviewDiv.style.maxWidth = '600px';
    reviewDiv.style.margin = '0 auto';
    document.body.appendChild(reviewDiv);
  }
  reviewDiv.style.display = 'block';
  reviewDiv.innerHTML = '<h2>Review Questions</h2>';

  // Score: MCQ exact match; SPR compare trimmed strings
  const correctCount = userAnswers.filter((ans, idx) => {
    const correct = (questions[idx].answer ?? "").toString().trim();
    const given = (ans ?? "").toString().trim();
    return given.length > 0 && given === correct;
  }).length;

  const totalCount = questions.length;
  const scoreDiv = document.createElement('div');
  scoreDiv.style.fontWeight = 'bold';
  scoreDiv.style.marginBottom = '15px';
  scoreDiv.innerText = `Score: ${correctCount} / ${totalCount}`;
  reviewDiv.appendChild(scoreDiv);

  const ul = document.createElement('ul');
  ul.style.listStyle = 'none';
  ul.style.padding = '0';
  ul.style.display = 'flex';
  ul.style.flexWrap = 'wrap';
  ul.style.gap = '8px';

  questions.forEach((q, i) => {
    const li = document.createElement('li');
    li.innerText = q.num;
    li.style.padding = '8px 12px';
    li.style.border = '1px solid #333';
    li.style.borderRadius = '4px';
    li.style.cursor = 'pointer';

    const correct = (q.answer ?? "").toString().trim();
    const given = (userAnswers[i] ?? "").toString().trim();

    if (!given) li.style.background = '#555';
    else if (given === correct) li.style.background = '#28a745';
    else li.style.background = '#dc3545';

    li.style.color = '#fff';

    li.addEventListener('click', () => {
      currentQ = i;
      loadQuestion();
      reviewDiv.style.display = 'none';
      mainContent.style.display = 'flex';
      bottomBar.style.display = 'flex';
      qpanel.style.display = 'block';
    });

    ul.appendChild(li);
  });

  reviewDiv.appendChild(ul);

  let backBtn = document.getElementById('backToTestBtn');
  if (!backBtn) {
    backBtn = document.createElement('button');
    backBtn.id = 'backToTestBtn';
    backBtn.innerText = 'Back to Test';
    backBtn.style.background = '#556d98';
    backBtn.style.color = '#fff';
    backBtn.style.border = 'none';
    backBtn.style.padding = '10px 20px';
    backBtn.style.marginTop = '20px';
    backBtn.style.borderRadius = '4px';
    backBtn.style.cursor = 'pointer';
    reviewDiv.appendChild(backBtn);
  }
  backBtn.onclick = () => {
    reviewDiv.style.display = 'none';
    mainContent.style.display = 'flex';
    bottomBar.style.display = 'flex';
    qpanel.style.display = 'block';
  };
});
</script>

</body>
</html>


